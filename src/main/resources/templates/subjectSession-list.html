<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
 
<head>
	<div th:replace="~{commons :: head}"></div>
    <title>Предметы</title>
</head>
<body>
	<div th:replace="~{commons :: nav}"></div>
	<section class="subject-list"> 
	    <div class="container my-2">
	        <div class="card">
	            <div class="row">
	                <div class="card-body col">
	                    <h2 class="text-center">Предметы сессии</h2>
	                    <h3 class="text-center" th:if="${from}" th:text="${entity}">Какой сессии</h3>
	                    <div th:switch="${list}" class="container my-5">                        
	                        <div class="col-md-12">
	                            <h2 th:case="null"> Записей не найдено </h2>
	                            <div th:case="*" class="overScroll">
	                                <table class="table table-striped table-responsive-md">
	                                    <thead>
	                                        <tr>
	                                        	<th>Название</th>
	                                        	<th>Сдало человек</th>
	                                        	<th>Средняя оценка</th>
	                                        </tr>
	                                    </thead>
	                                    <tbody>
	                                        <tr th:each="entity : ${list}">
	                                            <td th:text="${entity.name}"></td>
	                                            <td th:text="${entity.countCurrentSubject}"></td>
	                                            <td th:text="${entity.sumCurrentSubject}/${entity.countCurrentSubject}" th:if="${entity.countCurrentSubject}>0"></td>
	                                            <td class="btnInTable widthLastCol" >
	                                                <a th:href="@{/subject/editSes/{id}(id=${entity.id})}" class="btn btn-primary ">
	                                                    <i class="fas fa-edit">Редактировать</i>
	                                                </a>
	                                            </td>
	                                            <td class="btnInTable widthLastCol">
	                                                <a th:href="'/subject/deleteSes/'+${entity.id}+'_'+${entity.id}" class="btn btn-primary">
	                                                    <i class="fas fa-trash">Удалить</i>
	                                                </a>
	                                            </td>
	                                        </tr>
	                                    </tbody>
	                                </table>
	                            </div>     
	                            <p th:if="${from==true}" class="d-flex justify-content-end">
	                                <a th:href="'/subject/editSes/'+${entity.id}" class="btn btn-primary mx-2">
	                                <i class="fas fa-plus"> Добавить запись </i></a>
	                            </p>          
	                            <p class="d-flex justify-content-end">
	                              <input type="button" class="btn btn-primary" value = " Назад " onclick="history.back()"/>   
	                            </p>      
	                        </div>
	                    </div>
	                </div>
	            </div>
	        </div>
	    </div>
	</section>
</body>
</html>